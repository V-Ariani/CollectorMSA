<!DOCTYPE html>
<html>
    <head>
        <title>Collector</title>
        <meta charset="UTF-8">
        <!--Boostrap's CSS-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/css/bootstrap.css
" rel="stylesheet">
        <!--Custom CSS-->
        <link rel="stylesheet" type="text/css" href="style.css">

        <link rel="icon" 
        type="image/x-icon" 
        href=".\app\images\favicon.ico">

    </head>
    <body>
        <div class="container" id="page-container">
            <img src = ".\app\images\logo-home.png" alt = "Collector logo" class="cover-heading">

            <h2 id="page-header">
                Keeping your favourite things together.
            </h2>
            <h4 id="track-name"></h4>

        </div>
            
            <!--
                Below we include the Login Button social plugin. This button uses the JavaScript SDK to present a graphical Login 
                button that triggers the FB.login() function when clicked.
            -->
        
            <!--this is part of the SDK for generating a small login button, but I already made a button below. Keeping the code here just in case it doesn't work.-->
            <!--fb:login-button scope="public_profile,email" onlogin="checkLoginState();"></fb:login-button-->  
            <!--div id="status"></div-->

        <div class="log-in">    
        <div class="fb-login-button" scope="public_profile,email" onlogin="checkLoginState();" data-max-rows="1" data-size="xlarge" data-show-faces="false" data-auto-logout-link="true">
        </div>
        </div>

        <div id="fb-root"></div>
        <script>(function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.7&appId=840417272760715";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script>

        <script>
            //This is called with the results from FB.getLoginStatus().
            function statusChangeCallBack(response) {
                console.log('statusChangeCallback');
                console.log(response);
            }
            // The response object is returned with a status field that lets the app know the current login status of the person.
            // Full docs on the response object can be found in the documentation for FB.getLoginStatus().
            if (response.status === 'connected') {
                //Logged into your app and Facebook.
                testAPI();
                } else if (response.status === 'not_authorized') {
                // The person is logged into Facebook, but not your app.
                document.getElementById('status').innerHTML = 'Please log ' + 'into this app.';
                } else {
                // The person is not logged into Facebook, so we're not sure if they are logged into this app or not.
                document.getElementById('status').innerHTML = 'Please log ' + 'into Facebook.';
            }
        }
        // This function is called when someone finishes with the Login Button. See the onlogin handler attached to it in the sample code below.
        function checkLoginState() {
            FB.getLoginStatus(function(response) {
                statusChangeCallback(response);
            });
        }
        
        window.fbAsyncInit = function() {
            FB.init({
                appId      : '840417272760715',
                cookie     : true,  // enable cookies to allow the server to access the session
                xfbml      : true,  // parse social plugins on this page
                version    : 'v2.5' // use graph api version 2.5
            });
            
            // Now that we've initialized the JavaScript SDK, we call FB.getLoginStatus().  This function gets the state of 
            // the person visiting this page and can return one of three states to the callback you provide.  They can be:
            // 1. Logged into your app ('connected')
            // 2. Logged into Facebook, but not your app ('not_authorized')
            // 3. Not logged into Facebook and can't tell if they are logged into your app or not.
            // These three cases are handled in the callback function.
            
            FB.getLoginStatus(function(response) {
                statusChangeCallback(response);
            });
        };
        
        // Load the SDK asynchronously
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
        
        // Here we run a very simple test of the Graph API after login is successful. See statusChangeCallback() for when this call is made.
        function testAPI() {
            console.log('Welcome!  Fetching your information.... ');
            FB.api('/me', function(response) {
                console.log('Successful login for: ' + response.name);
                document.getElementById('status').innerHTML = 'Thanks for logging in, ' + response.name + '!';
            });
        }
        </script>

        <div class="footer-stuff">
        <footer class = "container">
            <div class="row">
                <br>
                <br>
                <p>Made by Vania Ariani</p>
            </div>
        </div>

        <!-- Bootstrap core JavaScript
        ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
                <div id="main"></div>            
                <script src="https://maps.googleapis.com/maps/api/js?key=&libraries=places,visualization" async defer></script>

    </body>